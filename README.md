# 视频运动检测工具

这是一个基于Python的视频运动检测工具，可以自动检测视频中的画面变动，并可选择性地删除无变动的视频片段。该工具提供了图形用户界面（GUI）和命令行界面两种使用方式。

## 功能特点

- 自动检测视频中的画面变动
- 可配置的运动检测灵敏度
- 支持忽略时间戳区域
- 可选择性地合并保留的视频片段
- 友好的图形用户界面
- 支持调试模式查看处理过程

## 安装要求
opencv-python>=4.8.0
numpy>=1.24.0
PyQt6


## 安装方法

1. 克隆此仓库
2. 安装依赖：
bash
pip install -r requirements.txt


## 使用方法

### 图形界面方式

运行以下命令启动GUI界面：
bash
python video_gui.py

GUI界面提供以下功能：
- 选择视频文件夹
- 设置检测参数
- 设置时间戳区域
- 开启/关闭调试模式
- 实时查看处理进度

### 命令行方式
bash
python video_checker.py [文件夹路径] [参数选项]

参数说明：
- `folder`：必需，视频文件夹路径
- `--threshold`：可选，检测变动的阈值（默认：500）
- `--no-concat`：可选，不合并保留的视频
- `--time-box`：可选，时间戳区域坐标 (x1 y1 x2 y2)
- `--ratio-threshold`：可选，变化像素占比阈值（默认：0.1）

示例：
bash
python video_checker.py ./videos --threshold 1000 --ratio-threshold 0.5 --time-box 0 0 200 50


## 工作原理

该工具通过以下步骤检测视频变动：

1. 读取视频帧
2. 忽略指定的时间戳区域
3. 计算相邻帧之间的差异
4. 根据设定的阈值判断是否存在显著变动
5. 可选择性地合并保留的视频片段

## 注意事项

- 建议先使用较小的视频文件测试参数设置
- 时间戳区域的设置需要根据实际视频调整
- 合并视频功能需要足够的磁盘空间
- 处理大量视频时可能需要较长时间

## 许可证

MIT License
